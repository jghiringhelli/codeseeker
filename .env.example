# ============================================================================
# CodeMind Environment Configuration
# Copy this file to .env and customize for your environment
# ============================================================================

# ----------------------------------------------------------------------------
# PostgreSQL Database Configuration
# ----------------------------------------------------------------------------
DB_HOST=localhost
DB_PORT=5432
DB_NAME=codemind
DB_USER=codemind
DB_PASSWORD=your_secure_password_here

# Database Connection Pool Settings
DB_MIN_POOL_SIZE=2
DB_MAX_POOL_SIZE=10
DB_CONNECTION_TIMEOUT_MS=5000
DB_IDLE_TIMEOUT_MS=300000

# Database Performance Settings
DB_STATEMENT_TIMEOUT_MS=30000
DB_QUERY_TIMEOUT_MS=15000
DB_LOCK_TIMEOUT_MS=10000

# Database Security Settings
DB_SSL_MODE=prefer
DB_SSL_CERT_PATH=
DB_SSL_KEY_PATH=
DB_SSL_CA_PATH=
DB_ENCRYPT_CONNECTION=false
DB_REQUIRE_SSL=false
DB_VERIFY_SERVER_CERT=false

# Database Monitoring Settings
DB_LOG_SLOW_QUERIES=true
DB_SLOW_QUERY_THRESHOLD_MS=1000
DB_LOG_CONNECTIONS=false
DB_LOG_DISCONNECTIONS=false

# Database Backup Settings (optional)
DB_BACKUP_ENABLED=true
DB_BACKUP_RETENTION_DAYS=30
DB_BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
DB_BACKUP_PATH=./backups

# Advanced PostgreSQL Tuning (optional)
POSTGRES_SHARED_BUFFERS=256MB
POSTGRES_EFFECTIVE_CACHE_SIZE=1GB
POSTGRES_MAINTENANCE_WORK_MEM=64MB
POSTGRES_CHECKPOINT_COMPLETION_TARGET=0.9
POSTGRES_WAL_BUFFERS=16MB
POSTGRES_DEFAULT_STATISTICS_TARGET=100

# ----------------------------------------------------------------------------
# Redis Configuration
# ----------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ----------------------------------------------------------------------------
# Neo4j Configuration
# ----------------------------------------------------------------------------
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=your_secure_password_here

# ----------------------------------------------------------------------------
# Service Ports
# ----------------------------------------------------------------------------
ORCHESTRATOR_PORT=3006
DASHBOARD_PORT=3005
API_PORT=3004

# ----------------------------------------------------------------------------
# Application Settings
# ----------------------------------------------------------------------------
NODE_ENV=development

# Migration Settings
AUTO_MIGRATE=true
MIGRATION_TIMEOUT_MS=30000
SCHEMA_VERSION_TABLE=schema_migrations

# CodeMind Features
EXTERNAL_TOOLS_ENABLED=true
TOOL_RECOMMENDATIONS_ENABLED=true
TECH_STACK_DETECTION_ENABLED=true
TOOL_USAGE_ANALYTICS_ENABLED=true
CODEMIND_DB_FEATURES=external_tools,recommendations,analytics,permissions
CODEMIND_DB_CACHE_TTL=300
CODEMIND_DB_BATCH_SIZE=100

# ----------------------------------------------------------------------------
# Optional: Claude API (if not using CLI)
# ----------------------------------------------------------------------------
# ANTHROPIC_API_KEY=your_api_key_here