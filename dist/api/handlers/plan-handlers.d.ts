/**
 * Phase 4: Development Plan Management API Handlers
 *
 * Handles development plan registration, progress tracking, and management
 */
import { Request, Response } from 'express';
import { DatabaseManager } from '../../database/manager';
import { Logger } from '../../utils/logger';
export interface DevelopmentPlan {
    id?: string;
    projectId: string;
    planType: PlanType;
    title: string;
    description?: string;
    priority: PlanPriority;
    status: PlanStatus;
    estimatedEffortHours?: number;
    estimatedDurationDays?: number;
    assignedTo?: string;
    tags?: string[];
    primaryGoals?: string[];
    successCriteria?: string[];
    acceptanceCriteria?: string[];
    plannedStartDate?: Date;
    plannedEndDate?: Date;
    templateId?: string;
    autoGenerated?: boolean;
    claudeEnhanced?: boolean;
    metadata?: Record<string, unknown>;
}
export interface PlanPhase {
    id?: string;
    planId: string;
    phaseName: string;
    phaseDescription?: string;
    phaseOrder: number;
    plannedStartDate?: Date;
    plannedEndDate?: Date;
    status?: PlanStatus;
    metadata?: Record<string, unknown>;
}
export interface PlanTask {
    id?: string;
    planId: string;
    phaseId?: string;
    title: string;
    description?: string;
    taskType?: string;
    priority: PlanPriority;
    status: TaskStatus;
    assignee?: string;
    reviewer?: string;
    estimatedHours: number;
    actualHours?: number;
    plannedStartDate?: Date;
    plannedEndDate?: Date;
    taskOrder?: number;
    dependencies?: string[];
    completionPercentage?: number;
    relatedFiles?: string[];
    notes?: string;
    metadata?: Record<string, unknown>;
}
export interface ProgressUpdate {
    taskUpdates?: TaskUpdate[];
    blockers?: BlockerUpdate[];
    milestones?: MilestoneUpdate[];
    generalUpdate?: {
        summary: string;
        notes?: string;
        hoursSpent?: number;
    };
}
export interface TaskUpdate {
    taskId: string;
    status?: TaskStatus;
    actualHours?: number;
    completionPercentage?: number;
    notes?: string;
    completedAt?: Date;
    relatedCommits?: string[];
    relatedFiles?: string[];
}
export interface BlockerUpdate {
    taskId?: string;
    blockerType: string;
    title: string;
    description?: string;
    severity: 'low' | 'medium' | 'high' | 'critical';
    estimatedDelayHours?: number;
    assignedTo?: string;
}
export interface MilestoneUpdate {
    name: string;
    achievedAt: Date;
    notes?: string;
    deliverables?: string[];
}
export type PlanType = 'feature_development' | 'bug_fix_campaign' | 'refactoring_project' | 'performance_optimization' | 'security_hardening' | 'documentation_sprint' | 'testing_initiative' | 'architecture_migration';
export type PlanPriority = 'critical' | 'high' | 'medium' | 'low';
export type PlanStatus = 'draft' | 'planned' | 'in_progress' | 'on_hold' | 'completed' | 'cancelled' | 'archived';
export type TaskStatus = 'not_started' | 'in_progress' | 'blocked' | 'under_review' | 'completed' | 'cancelled';
export declare class PlanHandlers {
    private dbManager;
    private logger;
    constructor(dbManager: DatabaseManager, logger: Logger);
    /**
     * POST /plans - Register new development plan
     */
    createPlan(req: Request, res: Response): Promise<void>;
    /**
     * GET /plans/:projectPath - Get development plans for project
     */
    getProjectPlans(req: Request, res: Response): Promise<void>;
    /**
     * GET /plans/details/:planId - Get detailed plan information
     */
    getPlanDetails(req: Request, res: Response): Promise<void>;
    /**
     * POST /plans/:planId/progress - Update plan progress
     */
    updatePlanProgress(req: Request, res: Response): Promise<void>;
    /**
     * GET /plans/:planId/progress - Get progress summary
     */
    getPlanProgress(req: Request, res: Response): Promise<void>;
    /**
     * POST /plans/:planId/claude-optimize - AI plan optimization
     */
    claudeOptimizePlan(req: Request, res: Response): Promise<void>;
    private createPlanInDB;
    private createPhaseInDB;
    private createTaskInDB;
    private getPlansFromDB;
    private getPlanFromDB;
    private getPhasesFromDB;
    private getTasksFromDB;
    private updateTaskInDB;
    private getActiveBlockersFromDB;
    private getMilestonesFromDB;
    private getRecentProgressFromDB;
    private getProgressHistoryFromDB;
    private logProgressUpdate;
    private createBlockerInDB;
    private recordMilestoneAchievement;
    private calculateTimelineStatus;
    private isOnTrack;
    private groupTasksByStatus;
    private groupTasksByPriority;
    private groupBlockersBySeverity;
    private isTaskOverdue;
    private getTasksCompletedInPeriod;
    private calculateAverageTaskTime;
    private generateBurndownData;
    private generateNextActions;
    private generateProgressRecommendations;
    private generateAIOptimization;
}
//# sourceMappingURL=plan-handlers.d.ts.map